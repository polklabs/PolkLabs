<div *ngIf="loading else content">
    Loading...
</div>

<ng-template #content>
    <div class="display-container light-theme" style="margin: auto !important;">
        <div fxLayout="row wrap" fxLayoutAlign="center center">

            <div fxFlex.xs="350px" fxFlex.sm="450px" fxFlex.gt-sm="48" style="min-width: 250px; padding-bottom: 32px;">
                <mat-card-title style="font-size: 48px;">{{data.name}}</mat-card-title>
                <mat-card-subtitle>{{data.title}}</mat-card-subtitle>
                <p><strong>{{data.bio}}</strong></p>
                <p class="summary">{{data.summary}}</p>
                <p><strong>Current Focus: </strong>{{data.currentFocus}}</p>
                <a mat-raised-button [href]="'assets/content/about/' + data.resume" target="_blank">View Resume</a>
            </div>

            <div fxFlex.xs="300px" fxFlex.sm="400px" fxFlex.gt-sm="48" style="min-width: 250px;" fxLayoutAlign="center center">
                <img style="width: 500px; height: inherit; margin: auto; border-radius: 16px; filter: saturate(0.85); max-width: 100%;" [src]="'assets/content/about/' + data.photo" alt="profile photo">
            </div>

        </div>

        <!-- Experience -->
        <app-tmpl-wrapper [section]="{ type: 'header', text: 'Experience'}"></app-tmpl-wrapper>
        <div fxLayout="row wrap" fxLayoutGap="16px" fxLayoutAlign="center" *ngIf="data.experience.length > 0">

            <mat-card fxFlex="800px" *ngFor="let exp of data.experience" class="mat-card-experience"
                appMaterialElevation [defaultElevation]="0">
                <div fxLayout="row wrap" fxLayoutGap="16px">
                    <div fxFlex="none">
                        <img [src]="'assets/content/about/' + exp.logo" [alt]="exp.company + ' Logo'" height="64px">
                    </div>
                    <div fxFlex>
                        <mat-card-title *ngIf="exp.company">
                            {{exp.company}}
                        </mat-card-title>
                    </div>
                    <div fxFlex="none">{{exp.title}}</div>
                </div>

                <mat-divider class="mat-card-divider"></mat-divider>

                <div class="experience-content">
                    <mat-card-content>
                        <p><em>
                                {{exp.summary}}
                            </em></p>

                        <div *ngFor="let item of exp.items">
                            <h3>
                                {{item.title}}
                            </h3>
                            <ul>
                                <li *ngFor="let li of item.items">
                                    {{li}}
                                </li>
                            </ul>
                        </div>

                    </mat-card-content>
                </div>

                <mat-divider class="mat-card-divider"></mat-divider>

                <p class="experience-footer">{{exp.dates}} | {{exp.location}}</p>
            </mat-card>

        </div>

        <!-- Skills -->
        <app-tmpl-wrapper [section]="{ type: 'header', text: 'Skills'}"></app-tmpl-wrapper>
        <div fxLayout="row wrap" fxLayoutGap="16px" fxLayoutAlign="center" *ngIf="data.skills.length > 0">

            <mat-card fxFlex="800px" *ngFor="let skill of data.skills" appMaterialElevation [defaultElevation]="0" class="mat-card-skills">
                <mat-card-title>
                    {{skill.title}}
                </mat-card-title>

                <mat-divider class="mat-card-divider"></mat-divider>

                <div fxLayout="row wrap" fxLayoutAlign="space-evenly center" class="skill-content">
                    <div *ngFor="let item of skill.items" fxLayout="column" style="width: 150px; height: 150px; margin: 0 16px;">
                        <img [src]="'assets/content/about/' + item.logo" [alt]="item.text + 'Logo'" height="100px" width="auto" style="margin: auto;">
                        <p class="skill-text">{{item.text}}</p>
                    </div>
                </div>
            </mat-card>

        </div>

        <!-- Education -->
        <div fxLayout="column" fxLayoutGap="16px" fxLayoutAlign="center" *ngIf="data.education.length> 0" class="mat-card-row">

            <!-- <h1>Education</h1> -->
            <app-tmpl-wrapper [section]="{ type: 'header', text: 'Education'}"></app-tmpl-wrapper>

            <div fxLayout="row wrap" fxLayoutAlign="center">
                <mat-card fxFlex="400px" *ngFor="let edu of data.education" class="mat-card-education" appMaterialElevation [defaultElevation]="0">
                    <mat-card-title>{{edu.school}}</mat-card-title>
                    <mat-card-subtitle>{{edu.location}}</mat-card-subtitle>
                    <ul>
                        <li>{{edu.bullets}}</li>
                    </ul>
                </mat-card>
            </div>

        </div>

        <!-- Awards -->
        <div fxLayout="column" fxLayoutGap="16px" fxLayoutAlign="center" *ngIf="data.awards && data.awards.length> 0" class="mat-card-row">

            <!-- <h1>Awards</h1> -->
            <app-tmpl-wrapper [section]="{ type: 'header', text: 'Awards'}"></app-tmpl-wrapper>

            <div fxLayout="row wrap" fxLayoutAlign="center">
                <mat-card fxFlex="500px" *ngFor="let award of data.awards" class="mat-card-awards" appMaterialElevation [defaultElevation]="0">
                    <mat-card-title>{{award.title}}</mat-card-title>
                    <mat-card-subtitle>{{award.location}} | {{award.date}}</mat-card-subtitle>
                    <ul>
                        <li>{{award.summary}}</li>
                    </ul>
                </mat-card>
            </div>

        </div>

    </div>

</ng-template>